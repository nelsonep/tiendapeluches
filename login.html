<html>

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="row g-3">
        <div class="col-md-12">
            <label for="inputnombre" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="inputnombre">
        </div>


        <div class="col-12">
            <button class="btn btn-primary" onclick="login()">Login</button>


        </div>
    </div>
    <script src='https://code.jquery.com/jquery-3.5.1.js'
        integrity='sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=' crossorigin='anonymous'>

        </script>
    <script>
        function login() {
            var persona = new Object();
            persona.nombre = document.getElementById("inputnombre").value;


            $.ajax({
                url: 'api/login',
                type: 'POST',
                dataType: 'json',
                data: persona,
                success: function (data, textStatus, xhr) {


                    if (data.nombre == "Error") {
                        alert("No se encuentra el usuario");
                    }
                    else {

                        localStorage.setItem("Usuariolog", JSON.stringify(data));


                        location.href = '/calc';
                    }


                },
                error: function (xhr, textStatus, errorThrown) { alert(xhr); }
            });


        }


    </script>
</body>

</html>